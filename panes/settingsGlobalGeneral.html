<!-- 

	General Global Settings / Preferences
	Copyright (C) 2010-2012 Ian Moore (imoore76 at yahoo dot com)
	
	$Id$

 -->
<table style='width: 100%' class='vboxVertical'>
	<tr style='vertical-align: middle'>
		<th><span class='translate'>Default Machine Folder:</span></th>
		<td>
			<table class="vboxInvisible" style='width: 100%'>
			<tr style='vertical-align: top'>
				<td style="width: auto; white-space: nowrap;" class="vboxFileFolderInput">
					<input type='text' class='vboxText' name='vboxSettingsDefaultMachineFolder' />
					<input type="button" class="vboxImgButton" style="background-image: url(images/vbox/select_file_16px.png)"
						onClick="vboxSettingsBrowseMachineFolder(this)" />
				</td>
			</tr>
			</table>		
		</td>
	</tr>
	
	<tr><td colspan='2'><hr style='width: 100%' class='vboxSeperatorLine'/></td></tr>
	
	<tr style='vertical-align: middle'>
		<th><span class='translate'>VRDP Authentication Library:</span></th>
		<td>
			<table class="vboxInvisible" style='width: 100%'>
			<tr style='vertical-align: top'>
				<td style="width: auto; white-space: nowrap;" class="vboxFileFolderInput">
					<input type='text' class='vboxText' name='vboxSettingsVRDEAuthLibrary' />
					<input type="button" class="vboxImgButton" style="background-image: url(images/vbox/select_file_16px.png)"
						onClick="vboxSettingsBrowseVRDPAuthLibrary(this)" />
				</td>
			</tr>
			</table>				
		</td>
	</tr>
</table>
<script type='text/javascript'>

/* Set Defaults */

document.frmVboxSettings.vboxSettingsDefaultMachineFolder.value = $('#vboxSettingsDialog').data('vboxSystemProperties').defaultMachineFolder;
document.frmVboxSettings.vboxSettingsVRDEAuthLibrary.value = $('#vboxSettingsDialog').data('vboxSystemProperties').VRDEAuthLibrary;

/* Browsers */
function vboxSettingsBrowseMachineFolder(btn) {
	var def = $(btn).siblings('input').first();
	vboxFileBrowser($(def).val(),function(f){
		if(f) $(def).val(f);
	},true,trans('Default Machine Folder:','UIGlobalSettingsGeneral').replace(':',''));
}

function vboxSettingsBrowseVRDPAuthLibrary(btn) {
	var def = $(btn).siblings('input').first();
	vboxFileBrowser($(def).val(),function(f){
		if(f) $(def).val(f);
	},false,trans('VRDP Authentication Library:','UIGlobalSettingsGeneral').replace(':',''));
}

/* 
 * 
 * Update Data onSave() 
 * 
 */
$('#vboxSettingsDialog').bind('save',function(){

	$('#vboxSettingsDialog').data('vboxSystemProperties').defaultMachineFolder = document.frmVboxSettings.vboxSettingsDefaultMachineFolder.value;
	$('#vboxSettingsDialog').data('vboxSystemProperties').VRDEAuthLibrary = document.frmVboxSettings.vboxSettingsVRDEAuthLibrary.value;

});
</script>